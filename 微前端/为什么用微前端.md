# 为什么用微前端

    1.兼容老项目：当项目使用古老的技术栈的，维护者又不想用旧的技术去维护，可以选择微前端的方法去拆分项目
    
    2.做项目的功能拆分和开发团队拆分：例如电商平台可以按照模块拆分为商品管理，库存管理，订单管理等模块，可以在开发团队上分为不同的小组进行分开上线

# 微前端的优势

    1.功能拆分：每个功能的开发人员可以专注于单一模块功能

    2.技术灵活：对每个模块的功能开发可以选择不同的技术

    3.独立开发部署

    4.兼容老项目

    5.业务颗粒化

# 现有的微前端方案

## iframe

    iframe有天然的隔离属性，通过iframe标签把子应用嵌入到父应用中，但iframe也有很多缺点
    
    1. url 不同步。浏览器刷新 iframe url 状态丢失、后退前进按钮无法使用。
    2. UI 不同步，DOM 结构不共享。想象一下屏幕右下角 1/4 的 iframe 里来一个带遮罩层的弹框，同时我们要求这个弹框要浏览器居中显示，还要浏览器 resize 时自动居中..
    3. 全局上下文完全隔离，内存变量不共享。iframe 内外系统的通信、数据同步等需求，主应用的 cookie 要透传到根域名都不同的子应用中实现免登效果。
    4. 慢。每次子应用进入都是一次浏览器上下文重建、资源重新加载的过程。

## single-spa

    一个微前端框架，最早的一个微前端框架，可以兼容很多技术栈

    single-spa先在基座中注册所有子应用的路由，当URL改变时就会去进行匹配，匹配到哪个子应用就会去加载那个子应用

    相对于iframe的实现方案，single-spa中基座和子应用之间共享一个全局上下文，并且不存在URL不同步和UI不同步的情况，但是single-spa也有以下的缺点

    1.没有实现js隔离和css隔离

    2.需要修改大量的配置，包括基座和子应用的，不能开箱即用

## qiankun

    阿里开源的一个微前端框架（官网：https://qiankun.umijs.org/zh/guide）

    qiankun 是一个基于 single-spa 的微前端实现库，旨在帮助大家能更简单、无痛的构建一个生产可用微前端架构系统。

    特性：
        📦 基于 single-spa 封装，提供了更加开箱即用的 API。
        📱 技术栈无关，任意技术栈的应用均可 使用/接入，不论是 React/Vue/Angular/JQuery 还是其他等框架。
        💪 HTML Entry 接入方式，让你接入微应用像使用 iframe 一样简单。
        🛡​ 样式隔离，确保微应用之间样式互相不干扰。
        🧳 JS 沙箱，确保微应用之间 全局变量/事件 不冲突。
        ⚡️ 资源预加载，在浏览器空闲时间预加载未打开的微应用资源，加速微应用打开速度。
        🔌 umi 插件，提供了 @umijs/plugin-qiankun 供 umi 应用一键切换成微前端架构系统。